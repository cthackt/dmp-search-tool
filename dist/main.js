/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={431:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var n=r(734);function a(e){return void 0===e&&(e={}),e.portal?(0,n.b)(e.portal):e.authentication?e.authentication.portal:"https://www.arcgis.com/sharing/rest"}},734:(e,t,r)=>{"use strict";function n(e){return"string"!=typeof e||"/"===(e=e.trim())[e.length-1]&&(e=e.slice(0,-1)),e}r.d(t,{b:()=>n})},918:(e,t,r)=>{"use strict";r.d(t,{g:()=>a});var n=r(883);function a(e){var t,r;return e&&e.hubApiUrl||((t=(0,n.i)(e)).match(/(qaext|\.mapsqa)\.arcgis.com/)?r="https://hubqa.arcgis.com":t.match(/(devext|\.mapsdevext)\.arcgis.com/)?r="https://hubdev.arcgis.com":t.match(/(www|\.maps)\.arcgis.com/)&&(r="https://hub.arcgis.com"),r)}},469:(e,t,r)=>{"use strict";r.d(t,{Hk:()=>W});var n=r(507),a=r(734),i=new RegExp(/.+(?:map|feature|image)server/i);function o(e){var t=e.match(i);return t?t[0]:function(e){var t=e.split("?")[0];return(0,a.b)(t)}(e)}var c=r(918),s={app:["Application","City Engine Web Scene","CityEngine Web Scene","Dashboard","Insights Page","Insights Workbook","Operation View","Web Mapping Application","StoryMap","Web Experience","Urban Model"],dataset:["CSV Collection","CSV","Feature Collection Template","Feature Collection","Feature Layer","Feature Service","File Geodatabase","GeoJSON","GeoJson","KML Collection","KML","Microsoft Excel","Raster Layer","Shapefile","Stream Service","Table"],document:["CAD Drawing","Document Link","Hub Page","Site Page","Image","iWork Keynote","iWork Numbers","iWork Pages","Microsoft Powerpoint","Microsoft Visio","Microsoft Word","Notebook","PDF","Pro Map","Report Template"],event:["Hub Event"],feedback:["Form","Quick Capture Project"],initiative:["Hub Initiative"],template:["Hub Initiative Template"],solution:["Solution"],map:["Image Collection","Image Service","Map Service Layer","Map Service","Scene Service","Scene Layer","Vector Tile Service","Web Map Service","Web Map Tile Service","Web Map","Web Scene","WFS","WMS","WMTS"],other:["360 VR Experience","AppBuilder Widget Package","Application Configuration","ArcPad Package","Code Attachment","Code Sample","Desktop Add In","Desktop Application Template","Desktop Application","Desktop Style","Explorer Add In","Explorer Layer","Geocoding Service","Geometry Service","Geoprocessing Package","Geoprocessing Sample","Geoprocessing Service","Layer File","Layer Package","Layer Template","Layer","Layout","Locator Package","Map Area","Map Document","Map Package","Map Service Definition","Map Template","Mobile Application","Mobile Map Package","Native Application","Network Analysis Service","Operations Dashboard Add In","Project Package","Project Template","Raster Function Template","Rule Package","Scene Package","Service Definition","SQLite Geodatabase","Style","Tile Package","Vector Tile Package","Workflow Manager Package"],site:["Hub Site Application","Site Application"]},u=s.app,l=(s.dataset,s.document,s.event,s.feedback),p=(s.initiative,s.map,s.other,s.site,["360 VR Experience","Application","CityEngine Web Scene","Code Sample","CSV Collection","CSV","CAD Drawing","Desktop Application","Desktop Application Template","Desktop Style","File Geodatabase","GeoJson","Geoprocessing Package","Geoprocessing Sample","Image","iWork Keynote","iWork Numbers","KML Collection","KML","Layer","Layer File","Layer Package","Layout","Locator Package","Map Package","Map Service Definition","Map Template","Microsoft Excel","Microsoft Powerpoint","Microsoft Visio","Microsoft Word","Notebook","Operations Dashboard Add In","PDF","Pro Map","Project Package","Project Template","Raster function template","Rule Package","Service Definition","Shapefile","Vector Tile Package","Workflow Manager Package"]),d=["Data"];u.concat(l);var h=[{type:"CC0-1.0",abbr:"CC0",name:"Public Domain Dedication",url:"http://creativecommons.org/publicdomain/zero/1.0"},{type:"CC-BY-4.0",abbr:"CC BY",name:"Attribution 4.0 International",url:"http://creativecommons.org/licenses/by/4.0"},{type:"CC-BY-3.0",abbr:"CC BY 3.0",name:"Attribution 3.0 Unported",url:"http://creativecommons.org/licenses/by/3.0"},{type:"CC-BY-2.5",abbr:"CC BY 2.5",name:"Attribution 2.5 Generic",url:"http://creativecommons.org/licenses/by/2.5"},{type:"CC-BY-2.0",abbr:"CC BY 2.0",name:"Attribution 2.0 Generic",url:"http://creativecommons.org/licenses/by/2.0"},{type:"CC-BY-1.0",abbr:"CC BY 1.0",name:"Attribution 1.0 Generic",url:"http://creativecommons.org/licenses/by/1.0"},{type:"CC-BY-SA-4.0",abbr:"CC BY-SA",name:"Attribution-ShareAlike 4.0 International",url:"http://creativecommons.org/licenses/by-sa/4.0"},{type:"CC-BY-SA-3.0",abbr:"CC BY-SA 3.0",name:"Attribution-ShareAlike 3.0 Unported",url:"http://creativecommons.org/licenses/by-sa/3.0"},{type:"CC-BY-SA-2.5",abbr:"CC BY-SA 2.5",name:"Attribution-ShareAlike 2.5 Generic",url:"http://creativecommons.org/licenses/by-sa/2.5"},{type:"CC-BY-SA-2.0",abbr:"CC BY-SA 2.0",name:"Attribution-ShareAlike 2.0 Generic",url:"http://creativecommons.org/licenses/by-sa/2.0"},{type:"CC-BY-SA-1.0",abbr:"CC BY-SA 1.0",name:"Attribution-ShareAlike 1.0 Generic",url:"http://creativecommons.org/licenses/by-sa/1.0"},{type:"CC-BY-ND-4.0",abbr:"CC BY-ND",name:"Attribution-NoDerivatives 4.0 International",url:"http://creativecommons.org/licenses/by-nd/4.0"},{type:"CC-BY-ND-3.0",abbr:"CC BY-ND 3.0",name:"Attribution-NoDerivs 3.0 Unported",url:"http://creativecommons.org/licenses/by-nd/3.0"},{type:"CC-BY-ND-2.5",abbr:"CC BY-ND 2.5",name:"Attribution-NoDerivs 2.5 Generic",url:"http://creativecommons.org/licenses/by-nd/2.5"},{type:"CC-BY-ND-2.0",abbr:"CC BY-ND 2.0",name:"Attribution-NoDerivs 2.0 Generic",url:"http://creativecommons.org/licenses/by-nd/2.0"},{type:"CC-BY-ND-1.0",abbr:"CC BY-ND 1.0",name:"Attribution-NoDerivs 1.0 Generic",url:"http://creativecommons.org/licenses/by-nd/1.0"},{type:"CC-BY-NC-4.0",abbr:"CC BY-NC",name:"Attribution-NonCommercial 4.0 International",url:"https://creativecommons.org/licenses/by-nc/4.0"},{type:"CC-BY-NC-3.0",abbr:"CC BY-NC 3.0",name:"Attribution-NonCommercial 3.0 Unported",url:"https://creativecommons.org/licenses/by-nc/3.0"},{type:"CC-BY-NC-2.5",abbr:"CC BY-NC 2.5",name:"Attribution-NonCommercial 2.5 Generic",url:"https://creativecommons.org/licenses/by-nc/2.5"},{type:"CC-BY-NC-2.0",abbr:"CC BY-NC 2.0",name:"Attribution-NonCommercial 2.0 Generic",url:"https://creativecommons.org/licenses/by-nc/2.0"},{type:"CC-BY-NC-1.0",abbr:"CC BY-NC 1.0",name:"Attribution-NonCommercial 1.0 Generic",url:"https://creativecommons.org/licenses/by-nc/1.0"},{type:"CC-BY-NC-SA-4.0",abbr:"CC BY-NC-SA",name:"Attribution-NonCommercial-ShareAlike 4.0 International",url:"https://creativecommons.org/licenses/by-nc-sa/4.0"},{type:"CC-BY-NC-SA-3.0",abbr:"CC BY-NC-SA 3.0",name:"Attribution-NonCommercial-ShareAlike 3.0 Unported",url:"https://creativecommons.org/licenses/by-nc-sa/3.0"},{type:"CC-BY-NC-SA-2.5",abbr:"CC BY-NC-SA 2.5",name:"Attribution-NonCommercial-ShareAlike 2.5 Generic",url:"https://creativecommons.org/licenses/by-nc-sa/2.5"},{type:"CC-BY-NC-SA-2.0",abbr:"CC BY-NC-SA 2.0",name:"Attribution-NonCommercial-ShareAlike 2.0 Generic",url:"https://creativecommons.org/licenses/by-nc-sa/2.0"},{type:"CC-BY-NC-SA-1.0",abbr:"CC BY-NC-SA 1.0",name:"Attribution-NonCommercial-ShareAlike 1.0 Generic",url:"https://creativecommons.org/licenses/by-nc-sa/1.0"},{type:"CC-BY-NC-ND-4.0",abbr:"CC BY-NC-ND",name:"Attribution-NonCommercial-NoDerivatives 4.0 International",url:"https://creativecommons.org/licenses/by-nc-nd/4.0"},{type:"CC-BY-NC-ND-3.0",abbr:"CC BY-NC-ND 3.0",name:"Attribution-NonCommercial-NoDerivs 3.0 Unported",url:"https://creativecommons.org/licenses/by-nc-nd/3.0"},{type:"CC-BY-NC-ND-2.5",abbr:"CC BY-NC-ND 2.5",name:"Attribution-NonCommercial-NoDerivs 2.5 Generic",url:"https://creativecommons.org/licenses/by-nc-nd/2.5"},{type:"CC-BY-NC-ND-2.0",abbr:"CC BY-NC-ND 2.0",name:"Attribution-NonCommercial-NoDerivs 2.0 Generic",url:"https://creativecommons.org/licenses/by-nc-nd/2.0"},{type:"CC-BY-NC-ND-1.0",abbr:"CC BY-NC-ND 1.0",name:"Attribution-NonCommercial-NoDerivs 1.0 Generic",url:"https://creativecommons.org/licenses/by-nc-nd/1.0"},{type:"PDDL-1.0",abbr:"PDDL",name:"ODC Public Domain Dedication and License",url:"http://opendatacommons.org/licenses/pddl/summary"},{type:"ODbL-1.0",abbr:"ODbL",name:"ODC Open Database License",url:"http://opendatacommons.org/licenses/odbl/summary"},{type:"ODC-BY-1.0",abbr:"ODC BY",name:"ODC Attribution License",url:"http://opendatacommons.org/licenses/by/summary"}];var f=r(606),m=r(883),g=function(e,t,r){var n=e.id,a=e.access,i=(0,m.i)(t)+"/content/items/"+n,o=new URLSearchParams({f:"json"});return"public"!==a&&r&&o.append("token",r),i+"?"+o.toString()},b=r(945),v=r(126);function y(e,t){return-1!==e.indexOf(t)}var S=function(e){return Array.isArray(e)&&Array.isArray(e[0])&&Array.isArray(e[1])};function C(e){var t,r;switch((e||"").toLowerCase()){case"image service":t="dataset";break;case"feature service":case"raster layer":t="map";break;case"microsoft excel":t="document";break;case"cad drawing":case"feature collection template":case"report template":t="content";break;case"hub project":t="project";break;default:r=function(e){if(e){var t=e.toLocaleLowerCase();return Object.keys(s).find((function(e){return s[e].some((function(e){return e.toLocaleLowerCase()===t}))}))}}(e),t={other:"content",solution:"template"}[r]||r}return t}var A,w=function(e){return e&&e.isPortal},k=function(e,t){return!w(t)&&"public"===e.access&&"CSV"===e.type&&e.size<=5e6},D=function(e,t,r){var n=P(e,t,r);if(!n){var a=C(e),i="/content";"feedback"===a?i="/feedback/surveys":N(e)?i="/pages":["app","dataset","document","map","template","project"].indexOf(a)>-1&&(i="/"+a+"s"),n=i+"/"+t}return n},N=function(e){return["Hub Page","Site Page"].includes(e)},P=function(e,t,r){var n;return"Solution"===e&&((null==r?void 0:r.indexOf("Deployed"))>0&&(n="/content/"+t),n="/templates/"+t+"/about"),n};function O(e){return{updateFrequency:"metadata.dataIdInfo.resMaint.maintFreq.MaintFreqCd.@_value",reviseDate:"metadata.dataIdInfo.idCitation.date.reviseDate",pubDate:"metadata.dataIdInfo.idCitation.date.pubDate",createDate:"metadata.dataIdInfo.idCitation.date.createDate",metadataUpdateFrequency:"metadata.mdMaint.maintFreq.MaintFreqCd.@_value",metadataUpdatedDate:"metadata.mdDateSt"}[e]}function T(e,t){var r=O(t);return r&&(0,f.W)(e,r)}!function(e){e.Year="year",e.Month="month",e.Day="day",e.Time="time"}(A||(A={}));var x,L=function(e){return Array.isArray(e)?e:[e]},M=function(e,t){var r=t.url&&o(t.url);return r&&e.linkage&&e.linkage.includes(r)},E=function(e,t,r){var n=e.linkage,a=(0,f.W)(r,"authentication.token");if(a&&M(e,t)){var i=new URL(e.linkage),o=new URLSearchParams(i.search);o.set("token",a),i.search=o.toString(),n=i.toString()}return n},I=function(e,t,r,n){return!k(e,n)&&t&&r&&r.length>1&&!q(e.url)};!function(e){e.Continual="continual",e.Daily="daily",e.Weekly="weekly",e.Fortnightly="fortnightly",e.Monthly="monthly",e.Quarterly="quarterly",e.Biannually="biannually",e.Annually="annually",e.AsNeeded="as-needed",e.Irregular="irregular",e.NotPlanned="not-planned",e.Unknown="unknown",e.Semimonthly="semimonthly"}(x||(x={}));var j=function(e,t){return{"001":x.Continual,"002":x.Daily,"003":x.Weekly,"004":x.Fortnightly,"005":x.Monthly,"006":x.Quarterly,"007":x.Biannually,"008":x.Annually,"009":x.AsNeeded,"010":x.Irregular,"011":x.NotPlanned,"012":x.Unknown,"013":x.Semimonthly}[T(e,t||"updateFrequency")]},R=function(e,t){var r=function(e){var t,r;if(/^\d{4}$/.test(e=""+e))t=new Date(+e,0,1),r=A.Year;else if(/^\d{4}-\d{1,2}$/.test(e)){var n=e.split("-");t=new Date(+n[0],+n[1]-1,1),r=A.Month}else/^\d{4}-\d{1,2}-\d{1,2}$/.test(e)?(n=e.split("-"),t=new Date(+n[0],+n[1]-1,+n[2]),r=A.Day):Number.isNaN(Date.parse(e))||(t=new Date(e),r=e.includes("T")?A.Time:A.Day);return t&&r&&{date:t,precision:r}}(T(e,t));return r&&(0,n.pi)((0,n.pi)({},r),{source:"metadata."+O(t)})},Y=function(e,t){var r=t+".editingInfo.lastEditDate",n=(0,f.W)(e,r);return n&&{date:new Date(n),source:r,precision:A.Day}},B=function(e,t){return{date:new Date(e[t]),precision:A.Day,source:"item."+t}},q=function(e){var t=e&&e.match(/\/\d+$/);return t&&t[0].slice(1)},G=function(e){return e&&"feature service"===e.toLowerCase()},F=function(e,t,r){return k(e,r)?e.id:function(e,t){return!!e&&"public"===e.access&&!w(t)}(e,r)?t?e.id+"_"+t.id:function(e){if("public"===e.access){var t=e.id,r=function(e){return q(e.url)||G(e.type)&&e.typeKeywords&&y(e.typeKeywords,"Singlelayer")&&"0"}(e);return r?t+"_"+r:t}}(e):void 0},W=function(e,t){var r=t||{},a=r.slug,i=r.requestOptions,s=r.data,u=r.metadata,l=r.groupIds,m=r.ownerUser,A=r.org,w=r.errors,N=r.server,P=r.layers,O=r.recordCount,T=r.boundary,x=r.extent,W=r.searchDescription,U=r.statistics,_=function(e,t,r){var n=q(e.url),a=n?parseInt(n,10):r;return t&&((0,v.kK)(a)?G(e.type)&&function(e){var t=e&&1===e.length?e[0]:void 0;return t&&t.capabilities.includes("Query")?t:void 0}(t):t.find((function(e){return e.id===a})))}(e,P,null==t?void 0:t.layerId),H=F(e,_,i),K=a||H||e.id,V=function(e,t,r,n){return((I(e,t,r,n)?t.name:e.title||e.name)||"").replace(/_/g," ")}(e,_,P,i),z=I(e,_,P,i)&&_.description,$=_?_.type:function(e){void 0===e&&(e={});var t=e.type,r=e.typeKeywords||[];return("Site Application"===e.type||"Web Mapping Application"===e.type&&y(r,"hubSite"))&&(t="Hub Site Application"),("Site Page"===e.type||"Web Mapping Application"===e.type&&y(r,"hubPage"))&&(t="Hub Page"),"Hub Initiative"===e.type&&y(r,"hubInitiativeTemplate")&&(t="Hub Initiative Template"),"Web Mapping Application"===e.type&&y(r,"hubSolutionTemplate")&&(t="Solution"),t}(e),J=(0,n.pi)({relative:D($,K,e.typeKeywords)},i&&function(e,t){var r,n,a=t.authentication,i=a&&a.token,o=(r=e.id,n=t,(0,b.a)(n)+"/home/item.html?id="+r),c=g(e,t,i),s=function(e,t,r){var n=g(e,t,r),a="\\/"+e.id+"\\?f=json",i=new RegExp(a);return n&&n.replace(i,"/"+e.id+"/data").replace(/\&token/,"?token")}(e,t,i),u=function(e,t,r){if(!e||!e.thumbnail)return null;var n=r||{},a=n.token,i=n.width;a||"string"!=typeof r||(a=r);var o=g(e,t,a).split("?"),c=o[0],s=o[1],u=new URLSearchParams(s);u.delete("f"),i&&u.append("w",i+"");var l=u.toString(),p=c+"/info/"+e.thumbnail;return l?p+"?"+l:p}(e,t,{token:i});return{portalHome:o,portalApi:c,portalData:s,thumbnail:u}}(e,i)),Q=function(e,t){var r;return k(e,t)&&(r=(0,c.g)(t).replace("/api/v3","")+"/datasets/"+e.id+"_0/FeatureServer/0"),r}(e,i),Z=function(e,t){return R(t.metadata,"reviseDate")||Y(t,"layer")||Y(t,"server")||B(e,"modified")}(e,{metadata:u,layer:_,server:N}),X=function(e,t){return R(t,"pubDate")||R(t,"createDate")||B(e,"created")}(e,u),ee=function(e,t){return R(t,"metadataUpdatedDate")||B(e,"modified")}(e,u);return(0,n.pi)((0,n.pi)({item:e},e),{slug:a,data:s,metadata:u,groupIds:l,ownerUser:m,org:A,errors:w||[],server:N,layers:P,recordCount:O,statistics:U,hubId:H,identifier:K,get isProxied(){return!!Q},layer:_,name:V,get title(){return V},get description(){return z||e.description},type:$,get family(){return C($)},get url(){return Q||(_?o(e.url)+"/"+_.id:e.url)},get categories(){return function(e){if(!e)return e;var t=["categories",""];return e.map((function(e){return e.split("/")})).reduce((function(e,t,r){return(0,n.pr)(e,t)}),[]).filter((function(e){return!y(t,e.toLowerCase())}))}(e.categories)},get actionLinks(){return e.properties&&e.properties.links},get hubActions(){return e.properties&&e.properties.actions},get isDownloadable(){return function(e){return-1!==p.indexOf(e.type)||e.typeKeywords&&d.some((function(t){return e.typeKeywords.some((function(e){return e===t}))}))}(e)},get structuredLicense(){return function(e){var t;t={type:(e=e||"")?"custom":"none",text:e};var r=!1,n=h.filter((function(t){return function(e,t){return(e=e.toLowerCase()).includes(t.name.toLowerCase())||e.includes(t.url.toLowerCase())||e.includes(t.abbr.toLowerCase())}(e,t)}));if(n.length&&(r=!0,t=n.pop()),!r){var a=void 0;if(function(e){try{return!!new URL(e).protocol}catch(e){return!1}}(e))a=e;else if(function(e){return new RegExp(/^<a[\s]+(href\s?=\s?["'].*?["'])+([^>]?)>((?:.(?!\<\/a\>))*.)?<\/a>$|^<a[\s]+(href\s?=\s?["'].*?["'])+([^>]?)\/>/).test(e)}(e)){var i=new RegExp(/href\s?=\s?["'](.*?)["']/);a=e.match(i)[1]}a&&(t.url=a,t.text="")}return t.text||delete t.text,t}(e.licenseInfo)},get permissions(){return{visibility:e.access,control:e.itemControl||"view"}},get extent(){return function(e,t,r){var n=S(e.extent)?e.extent:void 0,a=S(null==t?void 0:t.coordinates)?t.coordinates:void 0,i=4326===(0,f.W)(r,"extent.spatialReference.wkid")?function(e){return[[e.xmin,e.ymin],[e.xmax,e.ymax]]}(r.extent):void 0;return n||a||i}(e,x,_)},get boundary(){return"automatic"===(null==T?void 0:T.provenance)?T:function(e){var t,r=e.extent,a=S(r),i=(null===(t=e.properties)||void 0===t?void 0:t.boundary)||(a?"item":void 0),o={geometry:null,provenance:i};if("item"===i&&a){var c=function(e){var t=e[0],r=t[0],n=t[1],a=e[1];return function(e,t,r,n,a){return void 0===a&&(a=4326),{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:{wkid:a}}}(r,n,a[0],a[1])}(r),s=function(e){var t=e.xmin,r=e.ymin;return{x:(e.xmax-t)/2+t,y:(e.ymax-r)/2+r,spatialReference:e.spatialReference}}(c);o.center=[s.x,s.y],o.geometry=(0,n.pi)((0,n.pi)({},function(e){var t=e.xmin,r=e.ymin,n=e.xmax,a=e.ymax;return{rings:[[[t,a],[n,a],[n,r],[t,r],[t,a]]],spatialReference:e.spatialReference}}(c)),{type:"polygon"}),o.spatialReference=o.geometry.spatialReference}return o}(e)},get summary(){return W||e.snippet||e.description},urls:J,get portalHomeUrl(){return J.portalHome},get portalDataUrl(){return J.portalData},get portalApiUrl(){return J.portalApi},get thumbnailUrl(){return J.thumbnail},get createdDate(){return new Date(e.created)},createdDateSource:"item.created",get updatedDate(){return Z.date},get updatedDateSource(){return Z.source},get updatedDatePrecision(){return Z.precision},get modified(){return Z.date.getTime()},get publishedDate(){return X.date},get publishedDateSource(){return X.source},get publishedDatePrecision(){return X.precision},get metadataUpdatedDate(){return ee.date},get metadataUpdatedDateSource(){return ee.source},get metadataUpdatedDatePrecision(){return ee.precision},get updateFrequency(){return j(u)},get metadataUpdateFrequency(){return j(u,"metadataUpdateFrequency")},get publisher(){return{name:e.owner,username:e.owner}},get metrics(){return e.properties&&e.properties.metrics},get spatialReference(){var t;return(null===(t=null==_?void 0:_.extent)||void 0===t?void 0:t.spatialReference)||function(e){var t=e.spatialReference;if(!t||"object"==typeof t)return t;var r=parseInt(t+"",10);return isNaN(r)?null:{wkid:r}}(e)||null},get viewDefinition(){var e=_&&function(e){return e.isView}(_)&&s&&Array.isArray(s.layers)&&s.layers.find((function(e){return e.id===_.id}));return e?e.layerDefinition:void 0},get orgId(){return A?A.id:e.orgId||(null==m?void 0:m.orgId)},get contentTypeIcon(){return function(e){var t;return null!==(t={appbuilderExtension:"file",appbuilderWidgetPackage:"widgets-source",application:"web",applicationConfiguration:"app-gear",arcgisProMap:"desktop",cadDrawing:"file-cad",cityEngineWebScene:"urban-model",codeAttachment:"file-code",codeSample:"file-code",colorSet:"palette",contentCategorySet:"label",csv:"file-csv",cSV:"file-csv",cSVCollection:"file-csv",dashboard:"dashboard",desktopApplication:"desktop",documentLink:"link",excaliburImageryProject:"file",explorerMap:"file",exportPackage:"file",featureCollection:"data",featureCollectionTemplate:"file",featureLayer:"data",featureService:"collection",fileGeodatabase:"data",form:"survey",geocodingService:"file",geodataService:"file",geometryService:"file",geopackage:"file",geoprocessingService:"file",globeLayer:"layers",globeService:"file",hubInitiative:"initiative",hubInitiativeTemplate:"initiative-template",hubPage:"browser",hubProject:"briefcase",hubSiteApplication:"web",image:"file-image",imageService:"data",insightsModel:"file",insightsPage:"graph-moving-average",insightsTheme:"palette",insightsWorkbook:"graph-moving-average",iWorkPages:"file-text",iWorkKeynote:"presentation",iWorkNumbers:"file-report",kML:"data",kMLCollection:"data",layer:"layers",layerPackage:"layers",layerTemplate:"file",locatorPackage:"file",mapArea:"file",mapDocument:"map-contents",mapImageLayer:"collection",mapPackage:"file",mapService:"collection",microsoftExcel:"file-report",microsoftPowerpoint:"presentation",microsoftWord:"file-text",mission:"file",mobileMapPackage:"map-contents",nativeApplication:"mobile",nativeApplicationInstaller:"file",nativeApplicationTemplate:"file",mobileApplication:"mobile",networkAnalysisService:"file",notebook:"code",orientedImageryCatalog:"file",orthoMappingProject:"file",orthoMappingTemplate:"file",pDF:"file-pdf",quickCaptureProject:"mobile",rasterFunctionTemplate:"file",rasterLayer:"map",realTimeAnalytic:"file",relationalDatabaseConnection:"file",reportTemplate:"file",sceneLayer:"data",sceneService:"urban-model",serviceDefinition:"file",shapefile:"data",solution:"puzzle-piece",sqliteGeodatabase:"file",statisticalDataCollection:"file",storymap:"tour",storyMap:"tour",storymapTheme:"palette",symbolSet:"file",table:"table",urbanModel:"urban-model",vectorTilePackage:"file-shape",vectorTileService:"map",visioDocument:"conditional-rules",webExperience:"apps",webMap:"map",webMappingApplication:"apps",webScene:"urban-model",wfs:"map",wFS:"map",wMS:"map",wMTS:"map",workflowManagerService:"file",workforceProject:"list-check"}[(0,v._A)(e)])&&void 0!==t?t:"file"}($)},get license(){return console.warn("DEPRECATED: use structuredLicense instead"),{name:"Custom License",description:e.accessInformation}},get hubType(){return console.warn("DEPRECATED: use family instead"),C($)},get additionalResources(){return function(e,t,r){var n=function(e){var t=[];return L((0,f.W)(e,"metadata.distInfo")||[]).forEach((function(e){L(e.distTranOps||[]).forEach((function(e){L(e.onLineSrc||[]).forEach((function(e){t.push(e)}))}))})),t.length?t:null}(t);return n&&n.map((function(t){return{name:t.orName,url:E(t,e,undefined),isDataSource:M(t,e)}}))}(e,u)}})}},182:(e,t,r)=>{"use strict";r.d(t,{datasetToContent:()=>s,itemToContent:()=>c});var n=r(480),a=r(469),i=r(597),o=r(333);function c(e){return(0,a.Hk)(e)}function s(e){var t=function(e){if(e){var t=e.id,r=e.attributes;if(r){var a=(0,i.tS)(t).itemId,o=r.owner,c=r.orgId,s=r.created,u=r.modified,l=r.name,p=r.title,d=r.type,h=r.typeKeywords,f=r.description,m=r.snippet,g=r.tags,b=r.thumbnail,v=r.categories,y=r.contentStatus,S=r.spatialReference,C=r.accessInformation,A=r.licenseInfo,w=r.culture,k=r.url,D=r.access,N=r.proxyFilter,P=r.properties,O=r.appCategories,T=r.industries,x=r.languages,L=r.largeThumbnail,M=r.banner,E=r.screenshots,I=r.listed,j=r.ownerFolder,R=r.size,Y=r.protected,B=r.commentsEnabled,q=r.numComments,G=r.numRatings,F=r.avgRating,W=r.numViews,U=r.itemControl,_=r.scoreCompleteness,H=r.itemExtent,K=r.itemModified,V=r.modifiedProvenance,z=r.serviceSpatialReference;return{id:a,owner:o,orgId:c,created:s,modified:K||"item.modified"===V&&u,title:p||l,type:k&&(0,n.Gb)(k)||d,typeKeywords:h,description:f,tags:g,snippet:m,thumbnail:b,extent:H||[],categories:v,contentStatus:y,spatialReference:S||z,accessInformation:C,licenseInfo:A,culture:w,url:k,access:D,size:R,protected:Y,proxyFilter:N,properties:P,appCategories:O,industries:T,languages:x,largeThumbnail:L,banner:M,screenshots:E,listed:I,ownerFolder:j,commentsEnabled:B,numComments:q,numRatings:G,avgRating:F,numViews:W,itemControl:U,scoreCompleteness:_}}}}(e),r=e.attributes,o=r.errors,c=r.boundary,s=r.metadata,u=r.slug,l=r.groupIds,p=r.orgId,d=r.orgName,h=r.organization,f=r.orgExtent,m=r.server,g=r.layers,b=r.layer,v=r.recordCount,y=r.statistics,S=r.extent,C=r.searchDescription,A=b&&b.id,w=p&&{id:p,name:d||h,extent:f};return(0,a.Hk)(t,{layerId:A,slug:u,errors:o,metadata:s||null,groupIds:l,org:w,server:m,layers:g,recordCount:v,boundary:c,extent:S,searchDescription:C,statistics:y})}r.o(o,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return o.hubApiSearch}})},597:(e,t,r)=>{"use strict";function n(e){var t=e?e.split("_"):[];return{itemId:t[0],layerId:t[1]}}r.d(t,{tS:()=>n})},333:()=>{},679:(e,t,r)=>{"use strict";var n=r(857);r.o(n,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return n.hubApiSearch}});var a=r(773);r.o(a,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return a.hubApiSearch}})},449:()=>{},699:()=>{},961:()=>{},857:(e,t,r)=>{"use strict";var n=r(449);r.o(n,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return n.hubApiSearch}});var a=r(699);r.o(a,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return a.hubApiSearch}});var i=r(961);r.o(i,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return i.hubApiSearch}})},209:()=>{},476:()=>{},910:()=>{},341:()=>{},890:()=>{},780:()=>{},732:()=>{},346:()=>{},386:()=>{},354:()=>{},975:()=>{},787:()=>{},269:()=>{},829:()=>{},363:()=>{},964:()=>{},754:()=>{},773:(e,t,r)=>{"use strict";var n=r(209);r.o(n,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return n.hubApiSearch}});var a=r(476);r.o(a,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return a.hubApiSearch}});var i=r(910);r.o(i,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return i.hubApiSearch}});var o=r(341);r.o(o,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return o.hubApiSearch}});var c=r(890);r.o(c,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return c.hubApiSearch}});var s=r(780);r.o(s,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return s.hubApiSearch}});var u=r(732);r.o(u,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return u.hubApiSearch}});var l=r(346);r.o(l,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return l.hubApiSearch}});var p=r(386);r.o(p,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return p.hubApiSearch}});var d=r(354);r.o(d,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return d.hubApiSearch}});var h=r(975);r.o(h,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return h.hubApiSearch}});var f=r(787);r.o(f,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return f.hubApiSearch}});var m=r(269);r.o(m,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return m.hubApiSearch}});var g=r(829);r.o(g,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return g.hubApiSearch}});var b=r(363);r.o(b,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return b.hubApiSearch}});var v=r(964);r.o(v,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return v.hubApiSearch}});var y=r(754);r.o(y,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return y.hubApiSearch}});var S=r(765);r.o(S,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return S.hubApiSearch}})},765:()=>{},308:(e,t,r)=>{"use strict";var n=r(169);r.o(n,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return n.hubApiSearch}})},169:()=>{},254:(e,t,r)=>{"use strict";var n=r(308);r.o(n,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return n.hubApiSearch}});var a=r(399);r.o(a,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return a.hubApiSearch}})},809:()=>{},399:(e,t,r)=>{"use strict";var n=r(809);r.o(n,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return n.hubApiSearch}})},805:(e,t,r)=>{"use strict";r.d(t,{hubApiSearch:()=>o.hubApiSearch});var n=r(182);r.o(n,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return n.hubApiSearch}});var a=r(679);r.o(a,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return a.hubApiSearch}});var i=r(254);r.o(i,"hubApiSearch")&&r.d(t,{hubApiSearch:function(){return i.hubApiSearch}});var o=r(979);r(494)},606:(e,t,r)=>{"use strict";function n(e,t){return t.split(".").reduce((function(e,t){return e?e[t]:void 0}),e)}r.d(t,{W:()=>n})},979:(e,t,r)=>{"use strict";r.d(t,{hubApiSearch:()=>o});var n=r(507),a=r(918);var i=function(e){function t(t,r,n){var a=e.call(this,t)||this;return a.status=n,a.url=r,a}return(0,n.ZT)(t,e),t}(Error);function o(e){var t=e.authentication,r={headers:t&&t.serialize&&{authentication:t.serialize()},httpMethod:"POST"};return function(e,t){var r,o,c=(0,n.pi)({httpMethod:"GET"},t),s=c.fetch||fetch,u=(0,n.pi)({"Content-Type":"application/json"},c.headers);"GET"===c.httpMethod?r=c.params:o=JSON.stringify(c.params);var l=function(e){var t=e.host,r=e.path,n=e.query,a=t.endsWith("/")?t:t+"/",i=new URL(r,a);return i.search=function(e){void 0===e&&(e={});var t=Object.keys(e).filter((function(t){return void 0!==e[t]})).reduce((function(t,r){return t[r]=e[r],t}),{});return new URLSearchParams(t).toString()}(n),i.toString()}({host:(0,a.g)(c),path:"/api/v3//search".replace(/\/\//g,"/"),query:r});return s(l,{method:c.httpMethod,headers:u,body:o}).then((function(e){if(e.ok)return e.json();throw new i(e.statusText,l,e.status)}))}(0,(0,n.pi)((0,n.pi)({},r),e))}},883:(e,t,r)=>{"use strict";r.d(t,{i:()=>a});var n=r(945);function a(e){return(0,n.a)(e)+"/sharing/rest"}},945:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var n=r(431);function a(e){if("string"==typeof e)return e.replace(/\/sharing\/rest\/?$/,"");if("object"==typeof e){var t=e.portalSelf||e,r=t.portalHostname,i=t.urlKey,o=t.customBaseUrl;if(r||i&&o)return t.isPortal?"https://"+t.portalHostname:"https://"+t.urlKey+"."+t.customBaseUrl}return a((0,n.a)(e))}},480:(e,t,r)=>{"use strict";r.d(t,{Gb:()=>i});var n=r(126),a=/\/(map|feature)server/i,i=function(e){var t=e.match(a),r=t&&t[1];return r&&(0,n.kC)(r)+" Service"}},126:(e,t,r)=>{"use strict";function n(e){var t={};if(Array.isArray(e))t=e.map(n);else if("object"==typeof e){for(var r in e)if(e.hasOwnProperty(r)){var a=e[r];null!=a&&"object"==typeof a?a instanceof Date?t[r]=new Date(a.getTime()):t[r]=n(a):t[r]=a}}else t=e;return t}function a(e){return(e=(e=e.toLowerCase()).replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi," ")).replace(/(\-|\_|\.|\s)+(.)?/g,(function(e,t,r){return r?r.toUpperCase():""})).replace(/(^|\/)([A-Z])/g,(function(e,t,r){return e.toLowerCase()}))}r.d(t,{_A:()=>a,kC:()=>o,kI:()=>n,kK:()=>i});var i=function(e){return null==e},o=function(e){var t=Array.from(e);return t[0]=t[0].toUpperCase(),t.join("")}},507:(e,t,r)=>{"use strict";r.d(t,{ZT:()=>a,pi:()=>i,pr:()=>o});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)};function a(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};function o(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var i=arguments[t],o=0,c=i.length;o<c;o++,a++)n[a]=i[o];return n}},494:(e,t,r)=>{"use strict";const n=r(672),a=r(817);e.exports={atob:n,btoa:a}},672:e=>{"use strict";function t(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e);return t<0?void 0:t}e.exports=function(e){if(0===arguments.length)throw new TypeError("1 argument required, but only 0 present.");if((e=(e=`${e}`).replace(/[ \t\n\f\r]/g,"")).length%4==0&&(e=e.replace(/==?$/,"")),e.length%4==1||/[^+/0-9A-Za-z]/.test(e))return null;let r="",n=0,a=0;for(let i=0;i<e.length;i++)n<<=6,n|=t(e[i]),a+=6,24===a&&(r+=String.fromCharCode((16711680&n)>>16),r+=String.fromCharCode((65280&n)>>8),r+=String.fromCharCode(255&n),n=a=0);return 12===a?(n>>=4,r+=String.fromCharCode(n)):18===a&&(n>>=2,r+=String.fromCharCode((65280&n)>>8),r+=String.fromCharCode(255&n)),r}},817:e=>{"use strict";function t(e){if(e>=0&&e<64)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]}e.exports=function(e){if(0===arguments.length)throw new TypeError("1 argument required, but only 0 present.");let r;for(e=`${e}`,r=0;r<e.length;r++)if(e.charCodeAt(r)>255)return null;let n="";for(r=0;r<e.length;r+=3){const a=[void 0,void 0,void 0,void 0];a[0]=e.charCodeAt(r)>>2,a[1]=(3&e.charCodeAt(r))<<4,e.length>r+1&&(a[1]|=e.charCodeAt(r+1)>>4,a[2]=(15&e.charCodeAt(r+1))<<2),e.length>r+2&&(a[2]|=e.charCodeAt(r+2)>>6,a[3]=63&e.charCodeAt(r+2));for(let e=0;e<a.length;e++)void 0===a[e]?n+="=":n+=t(a[e])}return n}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=function(){return e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},e.apply(this,arguments)},t=r(805),n=r(606),a=r(918),i=r(883),o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},o(e,t)},c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)};function s(e){return Object.keys(e).some((function(t){var r=e[t];if(!r)return!1;switch(r&&r.toParam&&(r=r.toParam()),r.constructor.name){case"Array":case"Object":case"Date":case"Function":case"Boolean":case"String":case"Number":return!1;default:return!0}}))}function u(e){var t={};return Object.keys(e).forEach((function(r){var n,a,i=e[r];if(i&&i.toParam&&(i=i.toParam()),i||0===i||"boolean"==typeof i||"string"==typeof i){var o;switch(i.constructor.name){case"Array":var c=null===(a=null===(n=i[0])||void 0===n?void 0:n.constructor)||void 0===a?void 0:a.name;o="Array"===c?i:"Object"===c?JSON.stringify(i):i.join(",");break;case"Object":o=JSON.stringify(i);break;case"Date":o=i.valueOf();break;case"Function":o=null;break;case"Boolean":o=i+"";break;default:o=i}(o||0===o||"string"==typeof o||Array.isArray(o))&&(t[r]=o)}})),t}function l(e,t){return Array.isArray(t)&&t[0]&&Array.isArray(t[0])?t.map((function(t){return l(e,t)})).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(t)}function p(e){var t=u(e);return Object.keys(t).map((function(e){return l(e,t[e])})).join("&")}var d=function(e,t,r,n,a){e=e||"UNKNOWN_ERROR",t=t||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message="UNKNOWN_ERROR_CODE"===t?e:t+": "+e,this.originalMessage=e,this.code=t,this.response=r,this.url=n,this.options=a};(d.prototype=Object.create(Error.prototype)).constructor=d;var h={httpMethod:"POST",params:{f:"json"}},f=function(e){function t(t,r,n,a,i){void 0===t&&(t="AUTHENTICATION_ERROR"),void 0===r&&(r="AUTHENTICATION_ERROR_CODE");var o=e.call(this,t,r,n,a,i)||this;return o.name="ArcGISAuthError",o.message="AUTHENTICATION_ERROR_CODE"===r?t:r+": "+t,o}return function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.retry=function(e,t){var r=this;void 0===t&&(t=3);var n=0,a=function(i,o){e(r.url,r.options).then((function(e){var t=c(c({},r.options),{authentication:e});return n+=1,m(r.url,t)})).then((function(e){i(e)})).catch((function(e){"ArcGISAuthError"===e.name&&n<t?a(i,o):"ArcGISAuthError"===e.name&&n>=t?o(r):o(e)}))};return new Promise((function(e,t){a(e,t)}))},t}(d);function m(e,t){void 0===t&&(t={params:{f:"json"}});var r=c(c(c({httpMethod:"POST"},h),t),{params:c(c({},h.params),t.params),headers:c(c({},h.headers),t.headers)}),n=[],a=[];if(r.fetch||"undefined"==typeof fetch?(n.push("`fetch`"),a.push("`node-fetch`")):r.fetch=fetch.bind(Function("return this")()),"undefined"==typeof Promise&&(n.push("`Promise`"),a.push("`es6-promise`")),"undefined"==typeof FormData&&(n.push("`FormData`"),a.push("`isomorphic-form-data`")),!r.fetch||"undefined"==typeof Promise||"undefined"==typeof FormData)throw new Error("`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing "+n.join(", ")+". We recommend installing the "+a.join(", ")+" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");var i=r.httpMethod,o=r.authentication,l=r.rawResponse,m=c({f:"json"},r.params),g=null,b={method:i,credentials:r.credentials||"same-origin"};return r.headers&&r.headers["X-Esri-Auth-Client-Id"]&&e.indexOf("/oauth2/platformSelf")>-1&&(b.credentials="include"),(o?o.getToken(e,{fetch:r.fetch}).catch((function(t){return t.url=e,t.options=r,g=t,Promise.resolve("")})):Promise.resolve("")).then((function(t){t.length&&(m.token=t),o&&o.getDomainCredentials&&(b.credentials=o.getDomainCredentials(e));var n={};if("GET"===b.method){m.token&&r.hideToken&&"undefined"==typeof window&&(n["X-Esri-Authorization"]="Bearer "+m.token,delete m.token);var a=""===p(m)?e:e+"?"+p(m);r.maxUrlLength&&a.length>r.maxUrlLength||m.token&&r.hideToken?(b.method="POST",t.length&&r.hideToken&&(m.token=t,delete n["X-Esri-Authorization"])):e=a}var i=new RegExp("/items/.+/updateResources").test(e);return"POST"===b.method&&(b.body=function(e,t){var r=s(e)||t,n=u(e);if(r){var a=new FormData;return Object.keys(n).forEach((function(e){if("undefined"!=typeof Blob&&n[e]instanceof Blob){var t=n.fileName||n[e].name||e;a.append(e,n[e],t)}else a.append(e,n[e])})),a}return p(e)}(m,i)),b.headers=c(c({},n),r.headers),"undefined"!=typeof window||b.headers.referer||(b.headers.referer="@esri/arcgis-rest-js"),s(m)||i||(b.headers["Content-Type"]="application/x-www-form-urlencoded"),r.fetch(e,b)})).then((function(t){if(!t.ok){var n=t.status,a=t.statusText;throw new d(a,"HTTP "+n,t,e,r)}if(l)return t;switch(m.f){case"json":case"geojson":return t.json();case"html":case"text":return t.text();default:return t.blob()}})).then((function(t){if("json"!==m.f&&"geojson"!==m.f||l)return t;var n=function(e,t,r,n,a){if(e.code>=400){var i=e.message,o=e.code;throw new d(i,o,e,t,n)}if(e.error){var c=e.error,s=(i=c.message,o=c.code,c.messageCode),u=s||o||"UNKNOWN_ERROR_CODE";if(498===o||499===o||"GWM_0003"===s||400===o&&"Unable to generate token."===i)throw a||new f(i,u,e,t,n);throw new d(i,u,e,t,n)}if("failed"===e.status||"failure"===e.status){i=void 0,o="UNKNOWN_ERROR_CODE";try{i=JSON.parse(e.statusMessage).message,o=JSON.parse(e.statusMessage).code}catch(t){i=e.statusMessage||e.message}throw new d(i,o,e,t,n)}return e}(t,e,0,r,g);if(g){var a=e.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];r.authentication.federatedServers[a]={token:[],expires:new Date(Date.now()+864e5)},g=null}return n}))}function g(e){console&&console.warn&&console.warn.apply(console,[e])}var b=function(){function e(e){void 0===e&&(e=""),this.termStack=[],this.rangeStack=[],this.openGroups=0,this.q=e}return e.prototype.match=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.termStack=this.termStack.concat(e),this},e.prototype.in=function(e){var t="`in("+(e?'"'+e+'"':"")+")`";return this.hasRange||this.hasTerms?(e&&"*"!==e&&(this.q+=e+":"),this.commit()):(g(t+" was called with no call to `match(...)` or `from(...)`/`to(...)`. Your query was not modified."),this)},e.prototype.startGroup=function(){return this.commit(),this.openGroups>0&&(this.q+=" "),this.openGroups++,this.q+="(",this},e.prototype.endGroup=function(){return this.openGroups<=0?(g("`endGroup(...)` was called without calling `startGroup(...)` first. Your query was not modified."),this):(this.commit(),this.openGroups--,this.q+=")",this)},e.prototype.and=function(){return this.addModifier("and")},e.prototype.or=function(){return this.addModifier("or")},e.prototype.not=function(){return this.addModifier("not")},e.prototype.from=function(e){return this.hasTerms?(g('`from(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Optionally, you may see this because dates are incorrectly formatted. Dates should be a primative Date value, aka a number in milliseconds or Date object, ie new Date("2020-01-01").  Your query was not modified.'),this):(this.rangeStack[0]=e,this)},e.prototype.to=function(e){return this.hasTerms?(g('`to(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Optionally, you may see this because dates are incorrectly formatted. Dates should be a primative Date value, aka a number in milliseconds or Date object, ie new Date("2020-01-01"). Your query was not modified.'),this):(this.rangeStack[1]=e,this)},e.prototype.boost=function(e){return this.commit(),this.q+="^"+e,this},e.prototype.toParam=function(){return this.commit(),this.cleanup(),this.q},e.prototype.clone=function(){return this.commit(),this.cleanup(),new e(this.q+"")},e.prototype.addModifier=function(e){return this.currentModifer?(g("You have called `"+this.currentModifer+"()` after `"+e+"()`. Your current query was not modified."),this):(this.commit(),""===this.q&&"not"!==e?(g("You have called `"+e+"()` without calling another method to modify your query first. Try calling `match()` first."),this):(this.currentModifer=e,this.q+=""===this.q?"":" ",this.q+=e.toUpperCase()+" ",this))},e.prototype.needsQuotes=function(e){return/\s|:/g.test(e)},e.prototype.formatTerm=function(e){return e instanceof Date?e.getTime():"string"==typeof e&&this.needsQuotes(e)?'"'+e+'"':e},e.prototype.commit=function(){var e=this;return this.currentModifer=void 0,this.hasRange&&(this.q+="["+this.formatTerm(this.rangeStack[0])+" TO "+this.formatTerm(this.rangeStack[1])+"]",this.rangeStack=[void 0,void 0]),this.hasTerms&&(this.q+=this.termStack.map((function(t){return e.formatTerm(t)})).join(" "),this.termStack=[]),this},Object.defineProperty(e.prototype,"hasTerms",{get:function(){return this.termStack.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasRange",{get:function(){return this.rangeStack.length&&this.rangeStack[0]&&this.rangeStack[1]},enumerable:!1,configurable:!0}),e.prototype.cleanup=function(){if(this.openGroups>0)for(g("Automatically closing "+this.openGroups+" group(s). You can use `endGroup(...)` to remove this warning.");this.openGroups>0;)this.q+=")",this.openGroups--;var e=this.q;this.q=e.replace(/( AND ?| NOT ?| OR ?)*$/,""),e!==this.q&&g("`startGroup(...)` was called without calling `endGroup(...)` first. Your query was not modified."),this.q=this.q.replace(/(\(\))*/,"")},e}(),v=r(431);function y(e,t){var r,n;switch(r="string"==typeof e||e instanceof b?{httpMethod:"GET",params:{q:e}}:function(e,t,r){var n=c(c({params:{}},{httpMethod:"GET"}),e);return n.params=["q","num","start","sortField","sortOrder","searchUserAccess","searchUserName","filter","countFields","countSize","categories","categoryFilters"].reduce((function(t,r){return(e[r]||"boolean"==typeof e[r])&&(t[r]=e[r]),t}),n.params),["params","httpMethod","rawResponse","authentication","portal","fetch","maxUrlLength","headers"].reduce((function(e,t){return n[t]&&(e[t]=n[t]),e}),{})}(e),t){case"item":n="/search";break;case"group":n="/community/groups";break;case"groupContent":if("string"==typeof e||e instanceof b||!e.groupId)return Promise.reject(new Error("you must pass a `groupId` option to `searchGroupContent`"));n="/content/groups/"+e.groupId+"/search";break;default:n="/portals/self/users/search"}return m((0,v.a)(r)+n,r).then((function(r){return r.nextStart&&-1!==r.nextStart&&(r.nextPage=function(){var n;return"string"==typeof e||e instanceof b?n={q:e,start:r.nextStart}:(n=e).start=r.nextStart,y(n,t)}),r}))}function S(e){return y(e,"item")}var C,A=r(494),w=r(507);!function(e){e[e.all=0]="all",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.off=5]="off"}(C||(C={}));var k,D=function(){function e(){}return e.setLogLevel=function(e){this.logLevel=e},e.log=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.isLevelPermitted(C.debug)&&console.log.apply(console,(0,w.pr)([e],t))},e.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.isLevelPermitted(C.debug)&&console.debug.apply(console,(0,w.pr)([e],t))},e.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.isLevelPermitted(C.info)&&console.info.apply(console,(0,w.pr)([e],t))},e.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.isLevelPermitted(C.warn)&&console.warn.apply(console,(0,w.pr)([e],t))},e.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.isLevelPermitted(C.error)&&console.error.apply(console,(0,w.pr)([e],t))},e.isLevelPermitted=function(e){return this.logLevel<=e},e.logLevel=C.off,e}();!function(e){e.AND="AND",e.OR="OR",e.NOT="NOT"}(k||(k={}));var N=["created","modified"];function P(e){return e&&"string"==typeof e}function O(e){return Array.isArray(e)&&e.length>0}function T(e,t){return N.indexOf(e)>=0&&t}var x=['(-type: "code attachment")'],L=["title","type","typekeywords","description","tags","snippet","categories"];function M(e,t){return L.indexOf(e)>=0?'"'+t+'"':t}var E=["id","orgid","group","initiativeid"],I={group:"groupIds",title:"name",typekeywords:"typeKeywords",orgid:"orgId",initiativeid:"initiativeId"},j={access:{org:"organization",shared:"team",private:"myself"}};function R(e){var t,r,n,a,i,o,c=function(e){var t=e.filter||{};return Object.keys(t).reduce((function(e,r){var n,a=I[r]?I[r]:r;return"terms"===r?e.termField=t[r]:(n=r,E.indexOf(n)>=0?e.catalogFields[a]=t[r]:e.filterFields[a]=t[r]),e}),{termField:void 0,filterFields:{},catalogFields:{}})}(e),s=c.termField,u=c.filterFields,l=c.catalogFields,p=Object.keys(u).length?function(e){return Object.keys(e).reduce((function(t,r){var n=Y(r,e[r]);return n&&(t[r]=n),t}),{})}(u):void 0,d=Object.keys(l).length?function(e){return Object.keys(e).reduce((function(t,r){var n=Y(r,e[r]);return n&&(t[r]=n),t}),{})}(l):void 0,h=function(e){return(e.options||{}).page}(e);return n=function(e,t){if(e&&"relevance"!==e.toLowerCase()){var r=I[e]?I[e]:e;return(t&&"desc"===t.toLowerCase()?"-":"")+r}}((r=(t={termField:s,filter:p,catalog:d,paging:h,options:e.options}).options||{}).sortField,r.sortOrder),a=(o=r.aggregations)?{fields:o}:void 0,i=function(e){return e?{datasets:e}:void 0}(r.fields),{q:t.termField||void 0,sort:n,filter:t.filter,catalog:t.catalog,page:t.paging&&{key:t.paging},agg:a,fields:i}}function Y(e,t){return P(t)?B(e,[t]):O(t)?B(e,t):T(e,t)?(n=(r=t).from||0,a=r.to||(new Date).getTime(),"between("+q(n)+","+q(a)+")"):function(e){var t;if(e&&O(e.value))return((t=e.bool||k.OR)===k.NOT?"not":t===k.AND?"all":"any")+"("+e.value.join(",")+")"}(t);var r,n,a}function B(e,t){return"any("+t.map((function(t){return j[e]&&j[e][t]?j[e][t]:t})).join(",")+")"}function q(e){return new Date(e).toISOString().substring(0,10)}var G=r(182),F=r(126);function W(e,t){var r=t.results.map(G.itemToContent),n=t.num,a=t.total,i=t.nextStart>-1,o=t.query,c=t.aggregations?function(e){return Object.keys(e).reduce((function(t,r){return"counts"===r.toLowerCase()&&(t.counts=e[r].map((function(e){var t=e.fieldValues.map((function(e){return{label:e.value,value:e.count}}));return{fieldName:e.fieldName,aggregations:t}}))),t}),{})}(t.aggregations):void 0,s=function(e,t,r){var n=(0,F.kI)(e);return n.authentication=e.authentication,n.start=t>-1?t:r+1,function(e){return e&&(n.authentication=e),S(n).then((function(e){return W(n,e)}))}}(e,t.nextStart,t.total);return{results:r,count:n,total:a,hasNext:i,query:o,aggregations:c,next:s}}function U(e,t,r){void 0===t&&(t={data:[],meta:{}});var n=t.data.map(G.datasetToContent),a=K(t),i=a.count,o=a.total,c=a.hasNext,s=a.query,u=a.aggregations,l=H(e,t,c,r);return{results:n,count:i,total:o,hasNext:c,query:s,aggregations:u?_(u):void 0,next:l}}function _(e){return{counts:(t=e,Object.keys(t).map((function(e){return{fieldName:e,aggregations:t[e]?t[e].map((function(e){return{label:e.key.toLowerCase(),value:e.docCount}})):[]}})))};var t}function H(e,t,r,n){return function(a){var i=a||n,o=i&&i.serialize&&new Headers({authentication:i.serialize()});if(r)return fetch(t.meta.next,{method:"GET",mode:"cors",headers:o}).then((function(e){return e.json()})).then((function(t){return U(e,t,n)}));var c=K(t);return Promise.resolve({results:[],count:0,total:c.total,hasNext:!1,query:c.query,aggregations:c.aggregations?_(c.aggregations):void 0,next:H(e,t,!1)})}}function K(e){var t=(0,n.W)(e,"meta.queryParameters"),r=t?JSON.stringify(t):void 0,a=(0,n.W)(e,"meta.stats.aggs")||{},i=Object.keys(a).length>0?a:void 0;return{count:(0,n.W)(e,"meta.stats.count")||0,total:(0,n.W)(e,"meta.stats.totalCount")||0,hasNext:!!(0,n.W)(e,"meta.next"),query:r,aggregations:i}}var V=function(){function r(e){this.portal=e.portal,this.isPortal=e.isPortal,this.authentication=e.authentication}return r.prototype.search=function(e){return(0,n.W)(e,"options.isPortal")||this.isPortal?this.enterpriseSearch(e):this.onlineSearch(e)},r.prototype.enterpriseSearch=function(e){return void 0===e&&(e={filter:{},options:{}}),function(e,t,r){var n=function(e,t,r){var n=function(e){var t,r=e.filter||{};return(t=Object.keys(r).reduce((function(e,t){var n,a,i=(n=t,P(a=r[t])?function(e,t){return"terms"===e?"("+M(e,t)+")":"("+e+": "+M(e,t)+")"}(n,a):O(a)?function(e,t){var r=t.map((function(t){return M(e,t)}));return"("+e+": "+r.join(" OR "+e+": ")+")"}(n,a):T(n,a)?function(e,t){return"("+e+": ["+(t.from||0)+" TO "+(t.to||(new Date).getTime())+"])"}(n,a):function(e,t){if(t&&O(t.value)){var r=t.bool||k.OR,n=t.value.map((function(t){return M(e,t)}));return r===k.NOT?"(-"+e+": "+n.join(" AND -"+e+": ")+")":"("+e+": "+n.join(" "+r.toString()+" "+e+": ")+")"}}(n,a));return i&&e.push(i),e}),[]),t.concat(x)).join(" AND ").trim()}(e),a=function(e){var t=(e.options||{}).page||{start:1,num:10};return"string"==typeof t?function(e){try{var t=(0,A.atob)(e);if(null===t)throw new Error;return JSON.parse(t)}catch(t){return void D.error("error decoding and parsing the provided page: "+e+". Defaulting to starting page")}}(t):t}(e)||{start:1,num:10};return function(e,t,r,n,a){return void 0===r&&(r={}),{q:e,sortOrder:r.sortOrder,sortField:r.sortField,params:{countFields:r.aggregations,countSize:r.aggregations?200:void 0,start:t.start,num:t.num},bbox:r.bbox,portal:r.portal||n,authentication:r.authentication||a,httpMethod:"POST"}}(n,a,e.options,t,r)}(e,t,r);return S(n).then((function(e){return W(n,e)}))}(e,this.portal,this.authentication)},r.prototype.onlineSearch=function(r){void 0===r&&(r={filter:{},options:{}});var o=this.portal,c=this.authentication,s=e({portal:o,authentication:c},r.options);return function(r){var o=(0,n.W)(r,"options.authentication");return function(r){var n=R(r),o=e(e({},function(e){return{authentication:e.authentication,isPortal:e.isPortal,hubApiUrl:(0,a.g)(e.portal),portal:(0,i.i)(e.portal)}}(r.options)),{params:n});return(0,t.hubApiSearch)(o)}(r).then((function(e){return U(R(r),e,o)}))}(e(e({},r),{options:s}))},r}();const z=new V({portal:"https://sccwrp.maps.arcgis.com/sharing/rest",isPortal:!0});window.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("search-button"),t=document.querySelector("#search-clear"),r=document.querySelector("#search-field");r.addEventListener("keypress",(t=>{"Enter"===t.key&&(t.preventDefault(),e.click())})),e.addEventListener("click",(()=>{let e=document.querySelector("#search-gallery");e.innerHTML="",console.log(">>>>>> Search:",r.value);const t={owner:"sccwrp",terms:`${r.value}`};z.search({filter:t},{aggregations:"12"}).then((t=>{console.log(t),$(t,e)}))})),t.addEventListener("click",(()=>{r.value=""}))}));const $=(e,t)=>{const r=document.createElement("div");r.classList.add("search-results-single-page");for(let t=0;t<e.results.length;t++){let n=e.results[t].item.title,a=(e.results[t].item.description,e.results[t].item.tags),i=e.results[t].item.id,o=document.createElement("div"),c="card"+i;o.id=c,o.classList.add("my-card-container");let s="| ";a.forEach((e=>{s+=e+" | "})),o.insertAdjacentHTML("beforeend",`\n         <calcite-card style="height: 400px">\n            <h2>${n}</h2>\n            <h4>Description</h4>\n            <p>The descriptions here are wonky, so I am putting in this placeholder text to... you guessed it! hold the place of the description. Hopefully these will get cleaned up so we can have something nice here.</p>\n            <h4>Tags</h4>\n            <p>${s}</p>\n         </calcite-card>\n      `),o.addEventListener("click",(()=>{window.location.href="https://hub.arcgis.com/maps/"+i})),r.insertAdjacentElement("beforeend",o)}t.insertAdjacentElement("beforeend",r),t.insertAdjacentHTML("beforeend","<div class='spacer'></div>");const n=document.querySelector("#more-results");n&&(console.log("removed"),n.remove()),J(e,t)},J=(e,t)=>{const r=document.createElement("div");r.classList.add("more-results-button-wrapper");const n=document.createElement("button");n.id="more-results",n.classList.add("more-results-button"),n.innerHTML="Load more results",n.addEventListener("click",(()=>{e.next().then((e=>{$(e,t)}))})),r.insertAdjacentElement("beforeend",n),t.insertAdjacentElement("beforeend",r)}})()})();